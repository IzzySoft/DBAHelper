<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
	<title>DBAHelper Dokumentation: Configuration</title>
    <meta name="Author" content="Andreas Itzchak Rehberg (devel@izzysoft.de)">
    <meta name="Description" content="DBAHelper Documentation: Configuration">
    <meta name="Keywords" content="Oracle, DBA, Scripts, Configuration, Documentation">
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-15">
    <link rel="stylesheet" type="text/css" href="main.css">
</head>
<body>
<table align="center" width="95%" border="0">
 <tr><th>Configuration</th></tr>
 <tr><td class="text">
  Since the configuration file is executed as a shell script, we have to stick to
  Shell rules here - i.e., no spaces left or right to the equal sign: the syntax
  is strictly "<code>var=value</code>". Do not ever remove or comment out any
  configuration lines, even if you want to use the defaults, since this may
  lead to misbehaviour. The scripts relies on the settings are made in the config
  file.
 </td></tr>
 <tr><th class="th_sub"><a name="required"></a>Required Settings</th></tr>
 <tr><td class="text">
  The configuration shipped with DBAHelpers already contains useful default values
  for most settings.  However, there are some values the developer cannot know
  or set up to auto-run on every system, such as usernames, passwords, etc.. So
  these are the minimum of settings you have to make in order for the scripts to
  run properly:
 </td></tr>
 <tr><td class="text">
  <table align="center" width="95%">
   <tr><th class="th_sub2">Variable</th><th class="th_sub2">Explanation</th></tr>
   <tr><td class="td_name" align="center" COLSPAN="2">Database Information</td></tr>
   <tr><td class="td_name"><code>user</code></td>
       <td class="text" rowspan="2">The user and password to connect to the
           database. Although you may override these settings using the command
           line parameters "-u" and "-p", this is not recommended for the password
           on manual calls, since the entire command line can be made visible by
           any user e.g. with the <code>ps</code> command (or later on by evaluating
           the shell history), and thus the password can be sniffed. So better
           specify it inside the script and protect the file against unauthorized
           access. More security can be gained by using OS verification, which is
           now the default setting (empty user and password) -- but this may not
           work well if you want to access remote databases. If you need different
           user/password combinations, the recommendation is to use different config
           files, which you then can specify on the command line using the "-c" switch.</td></tr>
   <tr><td class="td_name"><code>password</code></td></tr>
  </table>
 </td></tr>
 <tr><th class="th_sub"><a name="opt"></a>Optional Settings</th></tr>
 <tr><td class="text">
  Once you are familiar with the reports generated by OraRep, you may want to
  fine-tune it a bit to better suit your requirements. For this issue, the
  config file provides some more settings which are to be explained here:
 </td></tr>
 <tr><td class="text">
  <table align="center" width="95%">
   <tr><th class="th_sub2">Variable</th><th class="th_sub2">Explanation</th></tr>
   <tr><td class="td_name" align="center" COLSPAN="2">Database Information</td></tr>
   <tr><td class="td_name"><code>ORACLE_SID</code></td>
       <td class="text">As already known from the Oracle setup, the <code>ORACLE_SID</code>
           is the Service IDentifier for a given database instance. In the
           context of OraRep, the SID is additionally used to generate the
           file names for the database report files, which will be called
           <CODE>&lt;ORACLE_SID&gt;.html</CODE>. If you did not specify a
           separate <i>connection string</i> (see the command line parameter "-c"
           in the <a href="usage.html#cmdline">Usage</a> section of this
           documentation), this value is also used to connect to the database.</td></tr>
   <tr><td class="td_name" align="center" COLSPAN="2">Files and Directories</td></tr>
   <tr><td class="td_name"><code>PREFIX</code></td>
       <td class="text">Important actions and results are logged to a file using
           the <code>SPOOL</code> facility of SQL*Plus. To be able to determine
           which file to look up, it is possible to let the scripts automatically
           generate suitable filenames: leaving this setting to <code>DEFAULT</code>
           exactly does this. Filenames with this setting are always made up by
           the script and parameter names, e.g.
           <code>tabmov-&lt;ORACLE_SID&gt;-&lt;SourceTS&gt;-&lt;TargetTS&gt;.spool</code>
           for the <code>tabmove.sh</code> script. You can turn off logging by
           specifying <code>OFF</code> here. Everything else will be taken literally
           and used as the filename, while the extension will stay to <code>.spool</code>.</td></tr>
   <tr><td class="td_name" align="center" COLSPAN="2">Settings for <code>analobj.sh</code> and <code>tabreorg.sh</code></td></tr>
   <tr><td class="td_name"><code>NUMROWS</code></td>
       <td class="text">As the tables reorganization is done to minimize IO overhead,
           too small tables do not need our attention: as long as their size is
           small enough to fit into <code>DB_FILE_MULTIBLOCK_READ_COUNT</code>
           data blocks, it is always completely loaded. So here you may specify
           the minimal required size (in table rows) for a table to be reported
           (<code>analobj.sh</code>) or reorganized (<code>tabreorg.sh</code>).
           Ignored if called with <code>--force</code> parameter.</td></tr>
   <tr><td class="td_name"><code>CHAINCNT</code></td>
       <td class="text">How many chained rows must a table have in order to be
           reported by <code>analobj.sh</code>. We want to save us unnecessary
           reports, so we restrict it here. Ignored if called with <code>--force</code>
           parameter.</td></tr>
   <tr><td class="td_name"><code>CALCSTAT</code></td>
       <td class="text">Before we can report migrated rows (or to know, what tables
           need to be re-organized), we need to build statistics, since w/o doing
           an <code>ANALYZE TABLE</code> the needed information is not available.
           While <code>COMPUTE</code> is the more precise method, you may want to
           stay with <code>ESTIMATE</code> here because it is faster.</td></tr>
   <tr><td class="td_name"><code>LOGALL</code></td>
       <td class="text">If you want to see each statement we execute (and not just
           the results), set this to "1" - otherwise leave it to "0". With
           <code>LOGALL</code> enabled, the log files may get quite long - but all
           useful information is available without it. However you may need this
           option in case of debugging. Can be overridden by the <code>-l</code>
           command line parameter.</td></tr>
   <tr><td class="td_name" align="center" COLSPAN="2"><code>tabreorg.sh</code> settings</td></tr>
   <tr><td class="td_name"><code>TR_USEDINC</code></td>
       <td class="text" rowspan="2">If we encounter to many migrations on a table,
           a reason we also should take into consideration are inefficient settings
           of <code>PCTFREE</code> and <CODE>PCTUSED</CODE>. So after moving the
           table to its temporary place, <code>tabreorg.sh</code> can adjust the
           values for these settings. Specify integer values here, which shall be
           added to the objects momentary values.</td></tr>
   <tr><td class="td_name"><code>TR_FREEINC</code></td></tr>
   <tr><td class="td_name"><code>TR_CHAINEDPCT</code></td>
       <td class="text">Since it doesn't make much sense to re-organize a huge
           table with just 0.01% chained/migrated rows (this would only cause a
           lot of overhead for no general improvement), <code>tabreorg.sh</code>
           consults this variable in order to decide whether it shall re-organize
           a table or not: if the tables percentage of migrated/chained rows is
           higher than <code>TR_CHAINEDPCT</code>, it will be re-organized;
           otherwise it will be skipped. Suitable values here should be 5 or
           larger. Ignored if called with <code>--force</code> parameter.</td></tr>
   <tr><td class="td_name" align="center" COLSPAN="2"><code>tabreorg.sh</code> and
           <code>idxrebuild_all.sh</code> settings</td></tr>
   <tr><td class="td_name"><code>INIT_*</code></td>
       <td class="text" rowspan="2">Settings for the size of the initial and next
           extents, based on the object size. The scripts consider all objects less
           than 256k as small, between 256k and 5M medium, 5M to 100M large, and
           bigger ones as XXL.</td></tr>
   <tr><td class="td_name"><code>NEXT_*</code></td></tr>
  </table>
 </td></tr>
 <tr><th class="th_sub"><a name="rman"></a>RMAN Settings</th></tr>
 <tr><td class="text">
  RMAN configuration for the database mostly takes place in the
  <code>rman/rman.conf</code> file. If you have multiple databases running on
  the same host, you can also use database specific configuration files, named
  <code>rman/rman_$ORACLE_SID.conf</code>. If such a file is found for the
  database to handle, it is prefered over the common <code>rman.conf</code> (to
  which it defaults otherwise). These files are especially useful for the
  <code>rman.sh backup_daily --all</code> command - for this (and possible other
  command line switches), see <A HREF="usage.html#rman">RMAN usage</A>.<BR>
  Settings for <code>rman.sh</code> itself are made inside the <code>rmanrc</code> file:
 </td></tr>
 <tr><td class="text">
  <table align="center" width="95%">
   <tr><th class="th_sub2">Variable</th><th class="th_sub2">Explanation</th></tr>
   <tr><td class="td_name"><code>LOGDIR</code></td>
       <td class="text">Directory where the log files should be created in.</td></tr>
   <tr><td class="td_name"><code>SPOOLFILE</code></td>
       <td class="text">Where <code>rman.sh</code> temporarily buffers the output
           of executed commands, to e.g. display it inside a tailbox (<code>dialog</code>
           UI).</td></tr>
   <tr><td class="td_name"><code>TMPFILE</code></td>
       <td class="text">File to be used for temporary stuff (usually to setup
           scripts to run). This file will be created when needed and deleted after
	   each run.</td></tr>
   <tr><td class="td_name"><code>TEMPTS_NAME</code></td>
       <td class="text">Default name for your temporary tablespace. Used by the
           restore_ts command, which will ask you to confirm it on run.</td></tr>
   <tr><td class="td_name"><code>TEMPTS_FILE</code></td>
       <td class="text">Exact location (path and file name) for the tempfile used
           by your temporary tablespace. Used by the
           restore_ts command, which will ask you to confirm it on run.</td></tr>
   <tr><td class="td_name"><code>TEMPTS_SIZE</code></td>
       <td class="text">Size for your temporary tablespace (see Oracle documentation
           for syntax - usually this is an integer optionally followed by "K" for
	   kilobytes, "M" for megabytes or "G" for gigabytes). Used by the
           restore_ts command, which will ask you to confirm it on run.</td></tr>
   <tr><td class="td_name"><code>TEMPTS_AUTOEXTEND</code></td>
       <td class="text">Whether your temporary tablespace should make use of the
           AutoExtend feature (ON) or not (OFF). Refer to your Oracle documentation
	   for more details. Used by the
           restore_ts command, which will ask you to confirm it on run.</td></tr>
   <tr><td class="td_name"><code>USEDIALOG</code></td>
       <td class="text">Whether to use the friendlier UI built with <code>dialog</code>,
           if possible (1) or not (0). If <code>dialog</code> is not installed,
           this setting has no effect and the script will fallback to "plain
           shell" mode. It will also fallback if you specified <code>-q</code>
           on the command line more than once (e.g. for scripts). This setting
           can be overruled by the <code>--[no]dialog</code> command line switch.</td></tr>
   <tr><td class="td_name"><code>TIMEOUT</code></td>
       <td class="text">Only relevant to the <code>dialog</code> UI: Close
           un-answered message boxes after this many seconds.</td></tr>
  </table>
 <tr><th class="th_sub"><a name="exp"></a>ExportOracleDB</th></tr>
 <tr><td class="text">
  The default settings inside this script use the same names as the original
  options of Oracles EXP utility - so you can refer to "<code>exp help=y</code>"
  for their syntax. Note that not all options of the utility are reflected here:
  The intention of this script is to do a fast full export only. Of course you
  can extend the script and send it back to me :)
 </td></tr>
</table>



</body>
</html>
